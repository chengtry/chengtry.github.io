<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Linux - chengtry</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="chengtry" /><meta name="description" content="Linux命令 基础命令： tar解压命令： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #解压 tar包 tar -xvf file.tar #解压tar.gz tar -zxvf file.tar.gz 例如：tar -zxvf redis-6.0.6.tar.gz #解" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.98.0 with theme even" />


<link rel="canonical" href="https://chengtry.github.io/post/linux/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.22af978d32806c567f310f3d6bdb8f737f1461161aa436311b0442d4a485b68c.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Linux" />
<meta property="og:description" content="Linux命令 基础命令： tar解压命令： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #解压 tar包 tar -xvf file.tar #解压tar.gz tar -zxvf file.tar.gz 例如：tar -zxvf redis-6.0.6.tar.gz #解" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chengtry.github.io/post/linux/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-02-18T21:57:36+08:00" />
<meta property="article:modified_time" content="2023-04-01T00:33:02+08:00" />

<meta itemprop="name" content="Linux">
<meta itemprop="description" content="Linux命令 基础命令： tar解压命令： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #解压 tar包 tar -xvf file.tar #解压tar.gz tar -zxvf file.tar.gz 例如：tar -zxvf redis-6.0.6.tar.gz #解"><meta itemprop="datePublished" content="2023-02-18T21:57:36+08:00" />
<meta itemprop="dateModified" content="2023-04-01T00:33:02+08:00" />
<meta itemprop="wordCount" content="9320">
<meta itemprop="keywords" content="Linux," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux"/>
<meta name="twitter:description" content="Linux命令 基础命令： tar解压命令： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #解压 tar包 tar -xvf file.tar #解压tar.gz tar -zxvf file.tar.gz 例如：tar -zxvf redis-6.0.6.tar.gz #解"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">chengtry</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">目录</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">chengtry</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">目录</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Linux</h1>

      <div class="post-meta">
        <span class="post-time"> 2023-02-18 21:57:36 </span>
        <div class="post-category">
            <a href="/categories/study/"> Study </a>
            </div>
          <span class="more-meta"> 约 9320 字 </span>
          <span class="more-meta"> 预计阅读 19 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#linux命令">Linux命令</a>
      <ul>
        <li><a href="#基础命令">基础命令：</a>
          <ul>
            <li><a href="#tar解压命令">tar解压命令：</a></li>
            <li><a href="#gunzip解压命令">gunzip解压命令：</a></li>
            <li><a href="#unzip解压命令">unzip解压命令：</a></li>
            <li><a href="#tar打压缩命令">tar打压缩命令：</a></li>
            <li><a href="#gzip打压缩命令">gzip打压缩命令：</a></li>
            <li><a href="#zip打压缩命令">zip打压缩命令：</a></li>
            <li><a href="#ps命令与grep命令">ps命令与grep命令</a></li>
            <li><a href="#移动当前目录下的文件到另一个目录中">移动当前目录下的文件到另一个目录中</a></li>
            <li><a href="#启动tomcat">启动tomcat</a></li>
            <li><a href="#查看用户名和其他信息">查看用户名和其他信息</a></li>
            <li><a href="#查看ip信息">查看ip信息</a></li>
            <li><a href="#find命令">find命令</a></li>
            <li><a href="#curl命令">curl命令</a></li>
            <li><a href="#linux查看内网ip和公网ip">Linux查看内网IP和公网IP</a></li>
            <li><a href="#修改文件名称">修改文件名称</a></li>
            <li><a href="#df命令">df命令</a></li>
            <li><a href="#which和whereis的区别">which和whereis的区别</a></li>
            <li><a href="#查看cpu使用情况">查看cpu使用情况</a></li>
            <li><a href="#用户相关命令">用户相关命令</a></li>
            <li><a href="#查看文件文件夹大小">查看文件/文件夹大小</a></li>
            <li><a href="#查看用户密码加密解密">查看用户密码（加密/解密）</a></li>
            <li><a href="#sudo命令">sudo命令</a></li>
            <li><a href="#查看端口详情">查看端口详情</a></li>
            <li><a href="#netstat--anp命令">netstat -anp命令</a></li>
            <li><a href="#根据进程号查询对应应用的位置">根据进程号查询对应应用的位置</a></li>
            <li><a href="#查看已经启动的端口号信息">查看已经启动的端口号信息</a></li>
            <li><a href="#jps命令">jps命令</a></li>
            <li><a href="#查看linux版本信息">查看linux版本信息</a></li>
            <li><a href="#scp命令">scp命令</a></li>
            <li><a href="#查看使用最多的命令">查看使用最多的命令</a></li>
            <li><a href="#vim进入文件显示序号">VIM进入文件显示序号</a></li>
            <li><a href="#vi模式定位">vi模式定位</a></li>
          </ul>
        </li>
        <li><a href="#在vim打开的文件中查找关键字">在vim打开的文件中查找关键字：</a></li>
        <li><a href="#rpm方式安装jdk不需要配置环境变量">rpm方式安装JDK(不需要配置环境变量)</a>
          <ul>
            <li><a href="#1下载rpm安装包并安装">1.下载rpm安装包并安装</a></li>
            <li><a href="#2查看jdk版本号">2.查看jdk版本号</a></li>
          </ul>
        </li>
        <li><a href="#永久修改linux主机名">永久修改Linux主机名</a>
          <ul>
            <li><a href="#1查看主机名">1.查看主机名</a></li>
            <li><a href="#2修改两个配置文件">2.修改两个配置文件</a></li>
            <li><a href="#3重启生效">3.重启生效</a></li>
          </ul>
        </li>
        <li><a href="#linux查看服务器是几核">Linux查看服务器是几核</a></li>
        <li><a href="#linux安装telnet命令">Linux安装telnet命令</a></li>
        <li><a href="#linux安装git命令">Linux安装git命令</a></li>
        <li><a href="#linux安装ripgrepcentos-7-">Linux安装ripgrep（CentOS 7 ）</a></li>
        <li><a href="#linux测试端口连通性">Linux测试端口连通性</a></li>
        <li><a href="#linux定时任务相关">Linux定时任务相关</a></li>
        <li><a href="#lsattr命令和chattr命令">lsattr命令和chattr命令</a></li>
        <li><a href="#列出10个cpu使用前10的process">列出10个CPU使用前10的process</a></li>
        <li><a href="#清理linux下的tmp目录规则">清理Linux下的tmp目录规则</a></li>
        <li><a href="#liunx查看设备挂载情况">Liunx查看设备挂载情况</a></li>
        <li><a href="#linux清空一个文件的所有内容而不删除文件">Linux清空一个文件的所有内容而不删除文件</a></li>
        <li><a href="#查看网卡信息">查看网卡信息</a></li>
        <li><a href="#修改文件所属组">修改文件所属组</a></li>
        <li><a href="#内网linux安装windows字体">内网Linux安装windows字体</a></li>
        <li><a href="#查看服务器有几个cpu">查看服务器有几个CPU</a></li>
        <li><a href="#linux通过df和du查看磁盘使用的大小不一致问题">Linux通过df和du查看磁盘使用的大小不一致问题</a></li>
        <li><a href="#linux中scp在后台运行">Linux中scp在后台运行</a></li>
      </ul>
    </li>
    <li><a href="#linux防火墙问题">Linux防火墙问题</a>
      <ul>
        <li><a href="#1查看firewall服务状态">1、查看firewall服务状态</a></li>
        <li><a href="#2查看firewall的状态">2、查看firewall的状态</a></li>
        <li><a href="#3开启重启关闭firewalldservice服务">3、开启、重启、关闭、firewalld.service服务</a></li>
        <li><a href="#4查看防火墙规则">4、查看防火墙规则</a></li>
        <li><a href="#5查询开放关闭端口号">5、查询、开放、关闭端口号</a></li>
      </ul>
    </li>
    <li><a href="#linux下运行项目">Linux下运行项目</a>
      <ul>
        <li><a href="#以后台方式启动springboot项目打印日志">以后台方式启动SpringBoot项目（打印日志）</a></li>
        <li><a href="#查看springboot项目进程号">查看SpringBoot项目进程号</a></li>
        <li><a href="#linux未给静态前端文件授权访问不了">Linux未给静态前端文件授权，访问不了</a></li>
      </ul>
    </li>
    <li><a href="#linux下安装mysql">Linux下安装MySQL</a>
      <ul>
        <li><a href="#mysql启动报错mysqlcommand-not-found">MySQL启动报错：mysql:command not found</a></li>
        <li><a href="#启动mysql">启动MySQL</a></li>
        <li><a href="#mysql启动报错">MySQL启动报错：</a></li>
        <li><a href="#service-mysqld-start-报错">service mysqld start 报错：</a></li>
        <li><a href="#mysql启动报错the-server-quit-without-updating-pid-file">mysql启动报错:The server quit without updating PID file</a></li>
        <li><a href="#mysql忘记密码修改mysql密码">MySQL忘记密码，修改MySQL密码</a></li>
        <li><a href="#mysql查看所有数据库">MySQL查看所有数据库</a></li>
        <li><a href="#mysql命令模式提示no-database-selected">MySQL命令模式提示：No database selected</a></li>
        <li><a href="#mysql命令行出错退出此次命令">MySQL命令行出错退出此次命令</a></li>
        <li><a href="#mysql修改某个字段字符集">MySQL修改某个字段字符集</a></li>
        <li><a href="#mysql查看数据库编码">MySQL查看数据库编码</a></li>
        <li><a href="#mysql中文显示乱码">MySQL中文显示乱码</a></li>
        <li><a href="#查看mysql端口号">查看MySQL端口号</a></li>
        <li><a href="#navicat连接linux下的mysql报错">Navicat连接Linux下的MySQL报错</a></li>
        <li><a href="#linux中的mysql命令模式清屏">Linux中的MySQL命令模式清屏</a></li>
        <li><a href="#linux下mysql表名区分大小写怎么解决">Linux下MySQL表名区分大小写怎么解决</a></li>
        <li><a href="#mysql查看某张表的索引">MySQL查看某张表的索引</a></li>
        <li><a href="#mysql没有root用户">MySQL没有root用户</a></li>
        <li><a href="#linux下对mysql数据库备份并设置定时">Linux下对MySQL数据库备份并设置定时</a></li>
      </ul>
    </li>
    <li><a href="#windows使用vscode实现remote-ssh免密登录">Windows使用vscode实现remote ssh免密登录</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="linux命令">Linux命令</h1>
<h2 id="基础命令">基础命令：</h2>
<h3 id="tar解压命令">tar解压命令：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#解压 tar包</span>
</span></span><span class="line"><span class="cl">tar -xvf  file.tar 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#解压tar.gz </span>
</span></span><span class="line"><span class="cl">tar -zxvf  file.tar.gz 
</span></span><span class="line"><span class="cl">例如：tar -zxvf redis-6.0.6.tar.gz
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#解压 tar.bz2</span>
</span></span><span class="line"><span class="cl">tar -xjvf  file.tar.bz2
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#解压tar.Z</span>
</span></span><span class="line"><span class="cl">tar -xZvf  file.tar.Z
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#解压rar</span>
</span></span><span class="line"><span class="cl">unrar e  file.rar
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#解压zip</span>
</span></span><span class="line"><span class="cl">unzip  file.zip
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="gunzip解压命令">gunzip解压命令：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#gunzip 只能解压.gz文件</span>
</span></span><span class="line"><span class="cl">gunzip yc.txt.gz  --&gt; 结果：yc.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="unzip解压命令">unzip解压命令：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#将yc.zip压缩包解压（linux需要提前安装unzip命令）</span>
</span></span><span class="line"><span class="cl"><span class="c1">#安装unzip命令：yum install -y unzip zip</span>
</span></span><span class="line"><span class="cl">unzip yc.zip
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tar打压缩命令">tar打压缩命令：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#tar -zcvf 压缩命令既可以压缩文件，也可以压缩目录！</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#将yc.txt文件压缩成yc.txt.tar.gz压缩包</span>
</span></span><span class="line"><span class="cl">tar -zcvf yc.txt.tar.gz yc.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#将yc目录压缩成yc.tar.gz压缩包</span>
</span></span><span class="line"><span class="cl">tar -zcvf yc.tar.gz yc
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="gzip打压缩命令">gzip打压缩命令：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#gzip 压缩命令只能压缩.gz文件！不能压缩目录！</span>
</span></span><span class="line"><span class="cl">gzip yx.txt    --&gt; 结果yc.txt.gz
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="zip打压缩命令">zip打压缩命令：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#将yc.txt文件压缩为yc.zip压缩包</span>
</span></span><span class="line"><span class="cl">zip yc.zip yc.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ps命令与grep命令">ps命令与grep命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#首先：ps -ef的意思是以长格式显示所有进程；“|”是管道，意思是前面ps的输出做为后面的输入，即—grep命令所检索的文本源；grep redis是在所有进程里查找与字符redis有关的进程，并显示出来。</span>
</span></span><span class="line"><span class="cl"><span class="c1">#ps -ef 是用标准的格式显示java这个进程</span>
</span></span><span class="line"><span class="cl"><span class="c1">#ps aux 是用BSD的格式来显示 java这个进程</span>
</span></span><span class="line"><span class="cl">ps -ef<span class="p">|</span>grep redis
</span></span><span class="line"><span class="cl">ps -aux<span class="p">|</span>grep redis
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="移动当前目录下的文件到另一个目录中">移动当前目录下的文件到另一个目录中</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mv <span class="o">[</span>选项<span class="o">]</span> 源文件 <span class="o">[</span>目标路径<span class="p">|</span>目标文件名<span class="o">]</span>
</span></span><span class="line"><span class="cl">mv pcre-8.37.tar.gz /home
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="启动tomcat">启动tomcat</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">进入tomcat的bin目录下，输入下面这个命令就启动了
</span></span><span class="line"><span class="cl">./startup.sh
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看用户名和其他信息">查看用户名和其他信息</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1. lslogins           <span class="c1">#列出系统中所有用户的信息</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. cat /etc/passwd    <span class="c1">#列出每个用户的详细信息</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3. id                 <span class="c1">#查看指定用户或当前用户的用户和组信息</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">4. getent passwd      <span class="c1">#列出每个用户的详细信息</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">5. <span class="nb">compgen</span> -u         <span class="c1">#列出系统中用户</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看ip信息">查看ip信息</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">linux查看ip等信息的命令 ： ifconfig
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">windows查看ip等信息的命令：ipconfig
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hostname -i 也能显示一个ip
</span></span><span class="line"><span class="cl">这个ip地址是在开机的时候被设置的，开机的时候往往网络连接还没有搭建好，需要一个ip地址来启动网络，则/etc/rc.d/rc.sysinit文件就会生成 一个IP地址
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="find命令">find命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">find / -name mysql <span class="c1">#查找根目录下名字是mysql的路径</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="curl命令">curl命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.获取该网址文本信息（或者访问自己项目的地址显示返回的数据）
</span></span><span class="line"><span class="cl">curl url  例：curl www.baidu.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2.仅返回请求头部信息
</span></span><span class="line"><span class="cl">curl -I www.baidu.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3.获取该网址的文本信息以及协议头部信息
</span></span><span class="line"><span class="cl">curl -i www.baidu.com
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="linux查看内网ip和公网ip">Linux查看内网IP和公网IP</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 查看公网IP</span>
</span></span><span class="line"><span class="cl">curl ifconfig.me   
</span></span><span class="line"><span class="cl">或者
</span></span><span class="line"><span class="cl">curl cip.cc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看内网IP</span>
</span></span><span class="line"><span class="cl">ifconfig --&gt; 查看eth0 那个inet IP
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="修改文件名称">修改文件名称</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#没有专门的重命名命令，但用mv a b 就可以重命名了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ycconfig<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">sentinel-263781.log
</span></span><span class="line"><span class="cl"><span class="c1">#将sentinel-263781.log重命名为sentinel-26381.log</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ycconfig<span class="o">]</span><span class="c1"># mv sentinel-263781.log sentinel-26381.log</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ycconfig<span class="o">]</span><span class="c1"># ls</span>
</span></span><span class="line"><span class="cl">sentinel-26381.log
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="df命令">df命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># df解释</span>
</span></span><span class="line"><span class="cl">df即disk free（可用磁盘），用于显示文件系统的磁盘使用情况。默认情况下 df 命令将以每块 1K 的单位进行显示所有当前已挂载的文件系统，如果你想以人类易读的格式显示 df 命令的输出，像这样“df -h”使用 -h 选项。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># df -a</span>
</span></span><span class="line"><span class="cl">df -a :列出所有文件系统的磁盘使用量。当我们在 df 命令中使用 <span class="sb">`</span>-a<span class="sb">`</span> 选项时，它会显示所有文件系统的磁盘使用情况。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># df -h</span>
</span></span><span class="line"><span class="cl">df -h :以人类易读的格式显示df命令的输出。以人类易读的格式输出（例如，5K，500M 及 5G）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># df -T</span>
</span></span><span class="line"><span class="cl">df -T :输出所有已挂载文件系统的类型。
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="which和whereis的区别">which和whereis的区别</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># which命令是查找某个命令的完整路径，它是用来查找可执行文件的</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># whereis命令则是用来快速查找任何文件，注意是任何文件，是一个文件搜索命令</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看cpu使用情况">查看cpu使用情况</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#top命令查看内存使用率</span>
</span></span><span class="line"><span class="cl">top
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#free命令可以显示Linux系统中空闲的、已用的物理内存及swap内存,及被内核使用的buffer。在Linux系统监控的工具中，free命令是最经常使用的命令之一。</span>
</span></span><span class="line"><span class="cl">free
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="F:%5Cimages%5CTypora%5Cimage-20210810094447347-16767286693482.png" alt="image-20210810094447347"></p>
<p><img src="F:%5Cimages%5CTypora%5Cimage-20210810094534238-16767286693481.png" alt="image-20210810094534238"></p>
<h3 id="用户相关命令">用户相关命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#创建用户名为yc的用户</span>
</span></span><span class="line"><span class="cl">useradd yc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#修改yc用户密码</span>
</span></span><span class="line"><span class="cl">passwd yc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#删除用户yc</span>
</span></span><span class="line"><span class="cl">userdel yc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#切换为yc用户</span>
</span></span><span class="line"><span class="cl">su yc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#su -用户名</span>
</span></span><span class="line"><span class="cl"><span class="c1">#当高权限用户切换到低权限用户的时候不需要密码</span>
</span></span><span class="line"><span class="cl"><span class="c1">#反之低权限切换到高权限用户需要高权限用户的密码</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="c1">#用exit可以退出当前用户，回到上一个用户,而且它的退出是一层一层退出的</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#修改当前用户密码</span>
</span></span><span class="line"><span class="cl">passwd
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看文件文件夹大小">查看文件/文件夹大小</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#查看一个文件夹中所有文件的大小（不含子目录中的文件）：</span>
</span></span><span class="line"><span class="cl">du -Sh或du -Ssh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#查看一个文件夹中所有文件的大小（包含子目录中的文件）：</span>
</span></span><span class="line"><span class="cl">du -h或者du -sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#查看文件最大的10个</span>
</span></span><span class="line"><span class="cl">du -s * <span class="p">|</span> sort -nr <span class="p">|</span> head
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#查看文件最小的10个</span>
</span></span><span class="line"><span class="cl">du -s * <span class="p">|</span> sort -nr <span class="p">|</span> tail
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看用户密码加密解密">查看用户密码（加密/解密）</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 查看所有用户密码</span>
</span></span><span class="line"><span class="cl">cat /etc/shadow
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">yc:<span class="nv">$6$Pd</span>/IwNxC<span class="nv">$yMLB2WfMt1Vb0n3cL2q9JYT3AZovuwfHYRZZz2mjtJINRtWhakA</span>/PYU/Fpnx5J9huPjcu3NgBE.McUNmFJAR4/:18876:0:99999:7:::
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">从centos6.x版本开始，系统密码开始采用SHA-512加密
</span></span><span class="line"><span class="cl">密码域密文也是由三部分组成的，即：$（id）$（salt）$（encrypted）。
</span></span><span class="line"><span class="cl">DES和明文开头无标记
</span></span><span class="line"><span class="cl">id为1时，采用md5进行加密；
</span></span><span class="line"><span class="cl">id为5时，采用SHA256进行加密；
</span></span><span class="line"><span class="cl">id为6时，采用SHA512进行加密。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看系统使用什么加密方式</span>
</span></span><span class="line"><span class="cl">authconfig --test <span class="p">|</span> grep hashing
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ~<span class="o">]</span><span class="c1"># authconfig --test | grep hashing</span>
</span></span><span class="line"><span class="cl"> password hashing algorithm is sha512
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="sudo命令">sudo命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Linux sudo命令以系统管理者的身份执行指令，也就是说，经由 sudo 所执行的指令就好像是 root 亲自执行。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>yc@yc logs<span class="o">]</span>$ sudo ls
</span></span><span class="line"><span class="cl">pinwo.log
</span></span><span class="line"><span class="cl"><span class="o">[</span>yc@yc logs<span class="o">]</span>$ sudo <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl">/yc/projects/logs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 使用sudo命令报错：yc is not in the sudoers file</span>
</span></span><span class="line"><span class="cl"><span class="c1"># yc该用户没有权限进行sudo，解决办法：</span>
</span></span><span class="line"><span class="cl">1.切换为root（超级管理员）
</span></span><span class="line"><span class="cl">2.vim /etc/sudoers（修改sudoers这个只读文件）
</span></span><span class="line"><span class="cl">3.在<span class="s2">&#34;root    ALL=(ALL)       ALL&#34;</span>一行下添加
</span></span><span class="line"><span class="cl">yc    <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span>    ALL
</span></span><span class="line"><span class="cl">4.保持退出 wq!（这是只读文件，必须加上!）
</span></span><span class="line"><span class="cl">5.再次切换为yc用户执行sudo命令即可成功
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看端口详情">查看端口详情</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">netstat -ano
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Active Internet connections <span class="o">(</span>servers and established<span class="o">)</span>
</span></span><span class="line"><span class="cl">Proto Recv-Q Send-Q Local Address           Foreign Address         State       
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 0.0.0.0:9000            0.0.0.0:*               LISTEN     
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 127.0.0.1:6379          0.0.0.0:*               LISTEN      
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 0.0.0.0:80              0.0.0.0:*               LISTEN      
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 0.0.0.0:22              0.0.0.0:*               LISTEN      
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 127.0.0.1:25            0.0.0.0:*               LISTEN      
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="netstat--anp命令">netstat -anp命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># netstat -anp命令简单说明：</span>
</span></span><span class="line"><span class="cl">-a，显示所有
</span></span><span class="line"><span class="cl">-n，不用别名显示，只用数字显示
</span></span><span class="line"><span class="cl">-p，显示进程号和进程名
</span></span><span class="line"><span class="cl">netstat -anp
</span></span><span class="line"><span class="cl">Active Internet connections <span class="o">(</span>servers and established<span class="o">)</span>
</span></span><span class="line"><span class="cl">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 0.0.0.0:80              0.0.0.0:*               LISTEN      4912/nginx: master  
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 0.0.0.0:22              0.0.0.0:*               LISTEN      1073/sshd           
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 127.0.0.1:25            0.0.0.0:*               LISTEN      1058/master         
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>     <span class="m">36</span> 172.30.121.4:22         114.251.7.126:50695     ESTABLISHED 5141/sshd: root@pts 
</span></span><span class="line"><span class="cl">tcp        <span class="m">0</span>      <span class="m">0</span> 172.30.121.4:58312      100.100.30.26:80        ESTABLISHED 1062/AliYunDun      
</span></span><span class="line"><span class="cl">tcp6       <span class="m">0</span>      <span class="m">0</span> :::8082                 :::*                    LISTEN      5010/java           
</span></span><span class="line"><span class="cl">tcp6       <span class="m">0</span>      <span class="m">0</span> ::1:25                  :::*                    LISTEN      1058/master         
</span></span><span class="line"><span class="cl">udp        <span class="m">0</span>      <span class="m">0</span> 0.0.0.0:68              0.0.0.0:*                           781/dhclient        
</span></span><span class="line"><span class="cl">udp        <span class="m">0</span>      <span class="m">0</span> 127.0.0.1:323           0.0.0.0:*                           527/chronyd         
</span></span><span class="line"><span class="cl">udp6       <span class="m">0</span>      <span class="m">0</span> ::1:323                 :::*                                527/chronyd    
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="根据进程号查询对应应用的位置">根据进程号查询对应应用的位置</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ls -l /proc/进程号/cwd 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ~<span class="o">]</span><span class="c1"># jps</span>
</span></span><span class="line"><span class="cl"><span class="m">2336</span> jar
</span></span><span class="line"><span class="cl"><span class="m">12053</span> Jps
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ~<span class="o">]</span><span class="c1"># ls -l /proc/2336/cwd</span>
</span></span><span class="line"><span class="cl">lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Jan <span class="m">18</span> 19:02 /proc/2336/cwd -&gt; /yc/projects/SpringBootProjects
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看已经启动的端口号信息">查看已经启动的端口号信息</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">lsof -i tcp:8888  <span class="c1"># 8888 即是你要查看的端口号 </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">COMMAND  PID USER   FD   TYPE    DEVICE SIZE/OFF NODE NAME
</span></span><span class="line"><span class="cl">java    <span class="m">1187</span> root   53u  IPv6 <span class="m">158370778</span>      0t0  TCP *:ddi-tcp-1 <span class="o">(</span>LISTEN<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jps命令">jps命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">jps命令：显示当前系统的java进程情况及进程id
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ~<span class="o">]</span><span class="c1"># jps</span>
</span></span><span class="line"><span class="cl"><span class="m">2336</span> jar
</span></span><span class="line"><span class="cl"><span class="m">12053</span> Jps
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">jps –l（显示主类或者jar的完全路径名）
</span></span><span class="line"><span class="cl">jps –v（显示jvm参数）
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看linux版本信息">查看linux版本信息</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">[</span>root@yc ~<span class="o">]</span><span class="c1"># uname -a</span>
</span></span><span class="line"><span class="cl">Linux yc 3.10.0-1127.19.1.el7.x86_64 <span class="c1">#1 SMP Tue Aug 25 17:23:54 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc ~<span class="o">]</span><span class="c1"># cat /etc/redhat-release </span>
</span></span><span class="line"><span class="cl">CentOS Linux release 7.8.2003 <span class="o">(</span>Core<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@node-4:~# cat /etc/lsb-release 
</span></span><span class="line"><span class="cl"><span class="nv">DISTRIB_ID</span><span class="o">=</span>Ubuntu
</span></span><span class="line"><span class="cl"><span class="nv">DISTRIB_RELEASE</span><span class="o">=</span>14.04
</span></span><span class="line"><span class="cl"><span class="nv">DISTRIB_CODENAME</span><span class="o">=</span>trusty
</span></span><span class="line"><span class="cl"><span class="nv">DISTRIB_DESCRIPTION</span><span class="o">=</span><span class="s2">&#34;Ubuntu 14.04.2 LTS&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="scp命令">scp命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#将当前目录下的taiji.tar.gz复制到10.100.245.218服务器中的...images/user目录下</span>
</span></span><span class="line"><span class="cl">scp taiji.tar.gz root@10.100.245.218:/ths/view-tomcat-8.5.42/webapps/fileserver/assets/
</span></span><span class="line"><span class="cl">components/datav/help/images/user
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#命令格式</span>
</span></span><span class="line"><span class="cl">scp local_file remote_username@remote_ip:remote_folder  
</span></span><span class="line"><span class="cl">或者  
</span></span><span class="line"><span class="cl">scp local_file remote_username@remote_ip:remote_file  
</span></span><span class="line"><span class="cl">或者  
</span></span><span class="line"><span class="cl">scp local_file remote_ip:remote_folder  
</span></span><span class="line"><span class="cl">或者  
</span></span><span class="line"><span class="cl">scp local_file remote_ip:remote_file  
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查看使用最多的命令">查看使用最多的命令</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> history | awk &#39;{CMD[$2]++;count++;}END { for (a in CMD)print CMD[a] &#34; &#34; CMD[a]/count*100 &#34;% &#34; a;}&#39; | grep -v &#34;./&#34; | column -c3 -s &#34; &#34; -t | sort -nr | nl | head -n10
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vim进入文件显示序号">VIM进入文件显示序号</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1.vim --version
</span></span><span class="line"><span class="cl">找到  user vimrc file: &#34;$HOME/.vimrc&#34;
</span></span><span class="line"><span class="cl">2.vim $HOME/.vimrc
</span></span><span class="line"><span class="cl">3. 添加一行内容：set number
</span></span><span class="line"><span class="cl">4.保存退出即可
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vi模式定位">vi模式定位</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.定位最后一行
</span></span><span class="line"><span class="cl">vi模式进入后，按住 shift+G 即可定位最后一行
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2.定位行首
</span></span><span class="line"><span class="cl">键盘上的Home键，或者退出编辑模式，按下数字0键
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3.定位行尾
</span></span><span class="line"><span class="cl">键盘上的End键
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="在vim打开的文件中查找关键字">在vim打开的文件中查找关键字：</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 1. /关键字 ，回车即可。此为从文档当前位置**向下**查找关键字，按n键查找关键字下一个位置；</span>
</span></span><span class="line"><span class="cl">例如：/requirepass
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2. ?关键字，回车即可。此为从文档挡圈位置**向上**查找关键字，按n键向上查找关键字；</span>
</span></span><span class="line"><span class="cl">例如：?requirepass
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="rpm方式安装jdk不需要配置环境变量">rpm方式安装JDK(不需要配置环境变量)</h2>
<h3 id="1下载rpm安装包并安装">1.下载rpm安装包并安装</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#从官网下载jdk的rpm安装包并用Xftp上传至服务器中</span>
</span></span><span class="line"><span class="cl"><span class="c1">#安装（默认安装路径：/usr/java/）</span>
</span></span><span class="line"><span class="cl">rpm -ivh jdk-8u281-linux-x64.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2查看jdk版本号">2.查看jdk版本号</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">java -version
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="永久修改linux主机名">永久修改Linux主机名</h2>
<h3 id="1查看主机名">1.查看主机名</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hostname
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2修改两个配置文件">2.修改两个配置文件</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#/etc/hosts （主机名修改为yc）</span>
</span></span><span class="line"><span class="cl">::1    localhost    localhost.localdomain    localhost6    localhost6.localdomain6
</span></span><span class="line"><span class="cl">127.0.0.1    localhost    localhost.localdomain    localhost4    localhost4.localdomain4
</span></span><span class="line"><span class="cl">172.30.121.4    yc    yc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#/etc/sysconfig/network （添加一行HOSTNAME=yc）</span>
</span></span><span class="line"><span class="cl"><span class="nv">HOSTNAME</span><span class="o">=</span>yc
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3重启生效">3.重启生效</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">reboot
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux查看服务器是几核">Linux查看服务器是几核</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.cat /proc/cpuinfo  <span class="c1"># 查看processor数量 processor：0</span>
</span></span><span class="line"><span class="cl">2.top命令 然后按1     <span class="c1"># 会显示Cpu数量 Cpu0就是一核</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux安装telnet命令">Linux安装telnet命令</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">yum list telnet*              1.列出telnet相关的安装包
</span></span><span class="line"><span class="cl">yum install telnet-server     2.安装telnet服务
</span></span><span class="line"><span class="cl">yum install telnet.*          3.安装telnet客户端
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux安装git命令">Linux安装git命令</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">yum install -y git
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux安装ripgrepcentos-7-">Linux安装ripgrep（CentOS 7 ）</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># linux最快的文本搜索神器ripgrep</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 官方安装教程：https://github.com/BurntSushi/ripgrep#installation</span>
</span></span><span class="line"><span class="cl">1. yum-config-manager --add-repo<span class="o">=</span>https://copr.fedorainfracloud.org/coprs/carlwgeorge/ripgrep/repo/epel-7/carlwgeorge-ripgrep-epel-7.repo
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. yum install ripgrep
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ripgrep命令使用：rg xx</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc yc<span class="o">]</span><span class="c1"># rg docker</span>
</span></span><span class="line"><span class="cl">docker/composetest/Dockerfile
</span></span><span class="line"><span class="cl">1:# <span class="nv">syntax</span><span class="o">=</span>docker/dockerfile:1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看ripgrep命令帮助</span>
</span></span><span class="line"><span class="cl">rg -h
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux测试端口连通性">Linux测试端口连通性</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.telnet方法
</span></span><span class="line"><span class="cl">telnet ip 端口
</span></span><span class="line"><span class="cl"><span class="c1"># 例：不通</span>
</span></span><span class="line"><span class="cl">telnet 10.251.110.110 <span class="m">80</span>
</span></span><span class="line"><span class="cl">Trying 10.251.110.110...
</span></span><span class="line"><span class="cl">telnet: connect to address 10.251.110.110: Connection refused
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 例：通</span>
</span></span><span class="line"><span class="cl">telnet 10.100.240.1 <span class="m">50021</span>
</span></span><span class="line"><span class="cl">Trying 10.100.240.1...
</span></span><span class="line"><span class="cl">Connected to 10.100.240.1.
</span></span><span class="line"><span class="cl">Escape character is <span class="s1">&#39;^]&#39;</span>.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2.ssh方法
</span></span><span class="line"><span class="cl"><span class="c1"># ssh -v -p 端口 username（一般root）@IP</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 例：不通</span>
</span></span><span class="line"><span class="cl">ssh -v -p <span class="m">80</span> root@10.251.110.110
</span></span><span class="line"><span class="cl">OpenSSH_8.3p1, OpenSSL 1.0.2k-fips  <span class="m">26</span> Jan <span class="m">2017</span>
</span></span><span class="line"><span class="cl">debug1: Reading configuration data /usr/local/softSSH/etc/ssh_config
</span></span><span class="line"><span class="cl">debug1: Authenticator provider <span class="nv">$SSH_SK_PROVIDER</span> did not resolve<span class="p">;</span> disabling
</span></span><span class="line"><span class="cl">debug1: Connecting to 10.251.110.110 <span class="o">[</span>10.251.110.110<span class="o">]</span> port 80.
</span></span><span class="line"><span class="cl">debug1: connect to address 10.251.110.110 port 80: Connection refused
</span></span><span class="line"><span class="cl">ssh: connect to host 10.251.110.110 port 80: Connection refused （拒绝连接，不通）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 例：通</span>
</span></span><span class="line"><span class="cl">ssh -v -p <span class="m">50021</span> root@10.100.240.1
</span></span><span class="line"><span class="cl">OpenSSH_8.3p1, OpenSSL 1.0.2k-fips  <span class="m">26</span> Jan <span class="m">2017</span>
</span></span><span class="line"><span class="cl">debug1: Reading configuration data /usr/local/softSSH/etc/ssh_config
</span></span><span class="line"><span class="cl">debug1: Authenticator provider <span class="nv">$SSH_SK_PROVIDER</span> did not resolve<span class="p">;</span> disabling
</span></span><span class="line"><span class="cl">debug1: Connecting to 10.100.240.1 <span class="o">[</span>10.100.240.1<span class="o">]</span> port 50021.
</span></span><span class="line"><span class="cl">debug1: Connection established.
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_rsa <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_rsa-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_dsa <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_dsa-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ecdsa <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ecdsa-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ecdsa_sk <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ecdsa_sk-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ed25519 <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ed25519-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ed25519_sk <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_ed25519_sk-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_xmss <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: identity file /root/.ssh/id_xmss-cert <span class="nb">type</span> -1
</span></span><span class="line"><span class="cl">debug1: Local version string SSH-2.0-OpenSSH_8.3 （能够连接，通）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># windows 中telnet通后如何退出，执行以下两步即可</span>
</span></span><span class="line"><span class="cl">1.Crtl + <span class="o">]</span>
</span></span><span class="line"><span class="cl">2.quit
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux定时任务相关">Linux定时任务相关</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 列出目前的时程表（列出所有的定时）</span>
</span></span><span class="line"><span class="cl">crontab -l 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除目前的时程表（会删除当前用户所有的定时）</span>
</span></span><span class="line"><span class="cl">crontab -r
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 编辑定时</span>
</span></span><span class="line"><span class="cl">vim crontab -e
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看定时是否有特殊的属性</span>
</span></span><span class="line"><span class="cl">lsattr /var/spool/cron/
</span></span><span class="line"><span class="cl"><span class="c1"># 去掉特殊的属性</span>
</span></span><span class="line"><span class="cl">chattr -ai /var/spool/cron/root  <span class="o">&amp;&amp;</span> lsattr /var/spool/cron/root
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">chattr: <span class="nb">command</span> not found
</span></span><span class="line"><span class="cl"><span class="c1"># 卸载重装</span>
</span></span><span class="line"><span class="cl">yum remove e2fsprogs
</span></span><span class="line"><span class="cl">yum -y install e2fsprogs
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="lsattr命令和chattr命令">lsattr命令和chattr命令</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 有时候你发现用root权限都不能修改某个文件，大部分原因是曾经用chattr命令锁定该文件了</span>
</span></span><span class="line"><span class="cl"><span class="c1"># chattr命令不能保护/、/dev、/tmp、/var目录。lsattr命令是显示chattr命令设置的文件属性。</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 用chattr命令防止系统中某个关键文件被修改并且只能追加数据：</span>
</span></span><span class="line"><span class="cl">chattr +ia test.txt（+号：添加属性，-号：减少属性）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc tmp<span class="o">]</span><span class="c1"># lsattr test.txt </span>
</span></span><span class="line"><span class="cl">----ia-------e-- test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 测试删除，删除不了</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc tmp<span class="o">]</span><span class="c1"># rm test.txt </span>
</span></span><span class="line"><span class="cl">rm: remove regular empty file ‘test.txt’? y
</span></span><span class="line"><span class="cl">rm: cannot remove ‘test.txt’: Operation not permitted
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># chattr修改文件属性即可删除</span>
</span></span><span class="line"><span class="cl">chattr -ia test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 用chattr命令防止系统中某个关键文件被修改：</span>
</span></span><span class="line"><span class="cl">chattr +i test.txt
</span></span><span class="line"><span class="cl"><span class="c1"># 让某个文件只能往里面追加数据，但不能删除，适用于各种日志文件：</span>
</span></span><span class="line"><span class="cl">chattr +a test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 如果发现 文件的属性都没有，lsattr 显示 --------------， 那就是上一级目录也被加了属性不能被删除</span>
</span></span><span class="line"><span class="cl">lsattr /etc/cron.d
</span></span><span class="line"><span class="cl">chattr -ia /etc/cron.d
</span></span><span class="line"><span class="cl">chattr -ia /etc/cron.d/zzh
</span></span><span class="line"><span class="cl">rm -r zzh
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="列出10个cpu使用前10的process">列出10个CPU使用前10的process</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ps aux --sort<span class="o">=</span>-pcpu  <span class="p">|</span> head -10
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="清理linux下的tmp目录规则">清理Linux下的tmp目录规则</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 安装tmpwatch命令</span>
</span></span><span class="line"><span class="cl">yum install tmpwatch.x86_64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 清除/tmp目录下30天没有被访问文件</span>
</span></span><span class="line"><span class="cl">tmpwatch --atime 30d /tmp
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="liunx查看设备挂载情况">Liunx查看设备挂载情况</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#用以下两个命令均可</span>
</span></span><span class="line"><span class="cl">1.lsblk 
</span></span><span class="line"><span class="cl">2.lsblk -f
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux清空一个文件的所有内容而不删除文件">Linux清空一个文件的所有内容而不删除文件</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1.清空/usr/local/bin/ycconfig/sentinel-26379.log 文件</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;&#34;</span> &gt; /usr/local/bin/ycconfig/sentinel-26379.log 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2.清空/usr/local/bin/ycconfig/sentinel-26381.log 文件</span>
</span></span><span class="line"><span class="cl">clear &gt; /usr/local/bin/ycconfig/sentinel-26381.log 
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="查看网卡信息">查看网卡信息</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"> 1、cd /etc/sysconfig/network-scripts/
</span></span><span class="line"><span class="cl"> 2、ls
</span></span><span class="line"><span class="cl"> <span class="c1"># ifcfg-eth0（第一个即是网卡信息，网卡名称：eth0）</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="修改文件所属组">修改文件所属组</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 修改组</span>
</span></span><span class="line"><span class="cl">chown -R root:root disclosure.jar
</span></span><span class="line"><span class="cl"><span class="c1"># 查看信息</span>
</span></span><span class="line"><span class="cl">ll
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="内网linux安装windows字体">内网Linux安装windows字体</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.将windows字体上传到服务器中<span class="o">(</span>/usr/share/fonts/chinese<span class="o">)</span>
</span></span><span class="line"><span class="cl">2.cd /usr/share
</span></span><span class="line"><span class="cl">3.mkdir fonts（没有该目录就新建）
</span></span><span class="line"><span class="cl">4.mkdir chinese（将字体上到到这个目录下）
</span></span><span class="line"><span class="cl">5.chmod <span class="m">775</span> chinses/（授权）
</span></span><span class="line"><span class="cl">6.vi /etc/fonts/font.conf <span class="o">(</span>没有该目录就新建<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc
</span></span><span class="line"><span class="cl">mkdir fonts
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> fonts
</span></span><span class="line"><span class="cl">touch font.conf
</span></span><span class="line"><span class="cl">vi /etc/fonts/font.conf
</span></span><span class="line"><span class="cl">增加 &lt;dir&gt;/usr/share/fonts/chinese&lt;/dir&gt;  保存后退出
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="查看服务器有几个cpu">查看服务器有几个CPU</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat /proc/cpuinfo <span class="p">|</span> grep <span class="s2">&#34;physical id&#34;</span> <span class="p">|</span> uniq <span class="p">|</span> wc -l
</span></span><span class="line"><span class="cl"><span class="m">1</span>  <span class="c1">#这个是一个cpu</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux通过df和du查看磁盘使用的大小不一致问题">Linux通过df和du查看磁盘使用的大小不一致问题</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">df -h 和 du -sh * 查看磁盘使用的大小不一致问题
</span></span><span class="line"><span class="cl">解决方法：
</span></span><span class="line"><span class="cl">通过命令lsof  <span class="p">|</span> grep deleted 获取对已删除文件的读写操作的进程id，
</span></span><span class="line"><span class="cl">通过重启该进程或者kill掉该进程来释放所占磁盘空间，
</span></span><span class="line"><span class="cl">通过ps -ef <span class="p">|</span>grep  id ,查看该进程id是否存在，不存在即可kill掉，存在可重启该应用。
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux中scp在后台运行">Linux中scp在后台运行</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"> 1.scp -r /ths/ db2inst1@10.100.222.228:/ths/db2backup/filebackup/
</span></span><span class="line"><span class="cl"> passsword:输入密码
</span></span><span class="line"><span class="cl"> 2.键盘Crtl + Z
</span></span><span class="line"><span class="cl"> 3.查看刚刚停止的任务命令：jobs
</span></span><span class="line"><span class="cl"> 4.使用bg命令将刚才的任务放入后台执行：bg %1 <span class="c1">#（这个1就是任务）</span>
</span></span><span class="line"><span class="cl"> 5.使用disown命令忽略SIGHUP信号：disown -h %1
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux防火墙问题">Linux防火墙问题</h1>
<h2 id="1查看firewall服务状态">1、查看firewall服务状态</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl status firewalld
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#出现Active: active (running)切高亮显示则表示是启动状态。</span>
</span></span><span class="line"><span class="cl"><span class="c1">#出现 Active: inactive (dead)灰色表示停止，看单词也行。</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2查看firewall的状态">2、查看firewall的状态</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">firewall-cmd --state
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="3开启重启关闭firewalldservice服务">3、开启、重启、关闭、firewalld.service服务</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 开启</span>
</span></span><span class="line"><span class="cl">service firewalld start
</span></span><span class="line"><span class="cl"><span class="c1"># 重启</span>
</span></span><span class="line"><span class="cl">service firewalld restart
</span></span><span class="line"><span class="cl"><span class="c1"># 关闭</span>
</span></span><span class="line"><span class="cl">service firewalld stop
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="4查看防火墙规则">4、查看防火墙规则</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">firewall-cmd --list-all
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5查询开放关闭端口号">5、查询、开放、关闭端口号</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 查询端口是否开放</span>
</span></span><span class="line"><span class="cl">例如：8080端口号是否开放
</span></span><span class="line"><span class="cl">firewall-cmd --query-port<span class="o">=</span>8080/tcp
</span></span><span class="line"><span class="cl"><span class="c1">#6379端口号是否开放</span>
</span></span><span class="line"><span class="cl">firewall-cmd --query-port<span class="o">=</span>6379/tcp
</span></span><span class="line"><span class="cl"><span class="c1"># 开放6379端口</span>
</span></span><span class="line"><span class="cl">firewall-cmd --permanent --add-port<span class="o">=</span>6379/tcp
</span></span><span class="line"><span class="cl"><span class="c1"># 移除6379端口</span>
</span></span><span class="line"><span class="cl">firewall-cmd --permanent --remove-port<span class="o">=</span>6379/tcp
</span></span><span class="line"><span class="cl"><span class="c1">#重启防火墙(修改配置后要重启防火墙)</span>
</span></span><span class="line"><span class="cl">firewall-cmd --reload
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux下运行项目">Linux下运行项目</h1>
<h2 id="以后台方式启动springboot项目打印日志">以后台方式启动SpringBoot项目（打印日志）</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#nohup命令的作用就是让程序在后台运行</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">nohup java -jar spring-boot-hello-1.0-SNAPSHOT.jar <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="c1">#日志位置：/yc/projects/logs/pinwo.log</span>
</span></span><span class="line"><span class="cl">nohup java -jar pinwo-springboot-1.0-SNAPSHOT.jar &gt;&gt; /yc/projects/logs/pinwo.log <span class="p">&amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="查看springboot项目进程号">查看SpringBoot项目进程号</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ps -ef<span class="p">|</span>grep java
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux未给静态前端文件授权访问不了">Linux未给静态前端文件授权，访问不了</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#前端Vue项目 npm run build 静态文件打包后放在nginx服务器上的/usr/local/nginx/html目录下</span>
</span></span><span class="line"><span class="cl"><span class="c1">#发现直接访问IP + 端口 + 项目名 访问404，发现解压后的文件没有查询权限，授权即可</span>
</span></span><span class="line"><span class="cl"><span class="c1">#静态文件不需要重启nginx服务器</span>
</span></span><span class="line"><span class="cl">chmod -R <span class="m">777</span> olympics
</span></span><span class="line"><span class="cl">chmod -R <span class="m">777</span> integrated-platform
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="linux下安装mysql">Linux下安装MySQL</h1>
<h2 id="mysql启动报错mysqlcommand-not-found">MySQL启动报错：mysql:command not found</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 由于系统默认会查找（默认在/usr/bin下）的命令，如果这个命令不在这个目录下，当然会找不到命令</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 我们需要做的就是映射一个链接到/usr/bin目录下，相当于建立一个链接文件。</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 我的mysql命令目录是/yc/mysql/bin/mysql</span>
</span></span><span class="line"><span class="cl">ln -s /yc/mysql/bin/mysql /usr/bin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 硬连接不允许跨分区</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@qiyexinxi06 bin<span class="o">]</span><span class="c1"># lsblk</span>
</span></span><span class="line"><span class="cl">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
</span></span><span class="line"><span class="cl">sr0     11:0    <span class="m">1</span> 1024M  <span class="m">0</span> rom  
</span></span><span class="line"><span class="cl">sr1     11:1    <span class="m">1</span> 1024M  <span class="m">0</span> rom  
</span></span><span class="line"><span class="cl">vda    253:0    <span class="m">0</span>   50G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─vda1 253:1    <span class="m">0</span>  200M  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">├─vda2 253:2    <span class="m">0</span>  500M  <span class="m">0</span> part <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">└─vda3 253:3    <span class="m">0</span> 49.3G  <span class="m">0</span> part /
</span></span><span class="line"><span class="cl">vdb    253:16   <span class="m">0</span>    1T  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">└─vdb1 253:17   <span class="m">0</span> 1024G  <span class="m">0</span> part /data
</span></span><span class="line"><span class="cl">ln: 无法创建硬链接 <span class="s1">&#39;/usr/bin/mysql&#39;</span> <span class="o">=</span>&gt; <span class="s1">&#39;/data/ths/mysql/bin/mysql&#39;</span>: 无效的跨设备链接
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="启动mysql">启动MySQL</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#第一次安装MySQL有默认密码，我的默认密码是：I8pehLnR2+t#</span>
</span></span><span class="line"><span class="cl">mysql -uroot -pI8pehLnR2+t# （-p后面的是密码）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 启动mysql服务</span>
</span></span><span class="line"><span class="cl">service mysqld start
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 停止mysql服务</span>
</span></span><span class="line"><span class="cl">service mysqld stop
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 重启mysql服务员</span>
</span></span><span class="line"><span class="cl">service mysqld restart
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql启动报错">MySQL启动报错：</h2>
<p>ERROR 2002 (HY000): Can‘t connect to local MySQL server through socket ‘/tmp/mysql.sock‘ (2)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 网上百度了解决方案如下</span>
</span></span><span class="line"><span class="cl">1.找到mysql的安装目录，我的mysql安装目录：/yc/mysql
</span></span><span class="line"><span class="cl">2.执行 sudo ./support-files/mysql.server start （这个命令即可）
</span></span><span class="line"><span class="cl">3. mysql -uroot -p （密码）
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="service-mysqld-start-报错">service mysqld start 报错：</h2>
<p>[root@yc ~]# service mysqld start
Redirecting to /bin/systemctl start mysqld.service
Failed to start mysqld.service: Unit not found.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 1.进入 my.cnf</span>
</span></span><span class="line"><span class="cl">vim /etc/my.cnf
</span></span><span class="line"><span class="cl">添加以下命令
</span></span><span class="line"><span class="cl">skip-grant-tables <span class="c1">#跳过数据库权限验证</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2.find / -name mysql.server</span>
</span></span><span class="line"><span class="cl">find / -name mysql.server
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@yc etc<span class="o">]</span><span class="c1"># find / -name mysql.server</span>
</span></span><span class="line"><span class="cl">/yc/mysql/support-files/mysql.server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/yc/mysql/support-files/mysql.server start <span class="c1"># 用这个命令启动</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql启动报错the-server-quit-without-updating-pid-file">mysql启动报错:The server quit without updating PID file</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 权限问题</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 授权tmp目录</span>
</span></span><span class="line"><span class="cl">chmod -R <span class="m">777</span> tmp
</span></span><span class="line"><span class="cl"><span class="c1"># 对mysql的安装目录和数据目录分别进行授权</span>
</span></span><span class="line"><span class="cl">chown -R mysql.mysql /usr/local/mysql
</span></span><span class="line"><span class="cl">chown -R mysql.mysql /data/mysql
</span></span><span class="line"><span class="cl">service mysqld start
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql忘记密码修改mysql密码">MySQL忘记密码，修改MySQL密码</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 进入 my.cnf</span>
</span></span><span class="line"><span class="cl">vim /etc/my.cnf
</span></span><span class="line"><span class="cl"><span class="c1"># 添加以下命令</span>
</span></span><span class="line"><span class="cl">skip-grant-tables <span class="c1">#跳过数据库权限验证</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 选择mysql数据库</span>
</span></span><span class="line"><span class="cl">use mysql<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 修改mysql用户名root的密码为：</span>
</span></span><span class="line"><span class="cl">update mysql.user <span class="nb">set</span> <span class="nv">authentication_string</span><span class="o">=</span>password<span class="o">(</span><span class="s1">&#39;root&#39;</span><span class="o">)</span> where <span class="nv">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl"><span class="c1"># 刷新权限</span>
</span></span><span class="line"><span class="cl">flush privileges<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 退出重启</span>
</span></span><span class="line"><span class="cl">1.exit
</span></span><span class="line"><span class="cl">2.mysql -uroot -proot<span class="p">;</span>
</span></span><span class="line"><span class="cl">或者
</span></span><span class="line"><span class="cl">1.exit
</span></span><span class="line"><span class="cl">2./yc/mysql/support-files/mysql.server stop
</span></span><span class="line"><span class="cl">3./yc/mysql/support-files/mysql.server start
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql查看所有数据库">MySQL查看所有数据库</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">show databases<span class="p">;</span>
</span></span><span class="line"><span class="cl">或者
</span></span><span class="line"><span class="cl"><span class="k">select</span> schema_name from information_schema.schemata<span class="se">\G</span><span class="p">;</span>  <span class="se">\G</span>：以纵向报表的形式输出结果，有利于阅读
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql命令模式提示no-database-selected">MySQL命令模式提示：No database selected</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">提示需要选择数据库：
</span></span><span class="line"><span class="cl">use 命令：选择数据库
</span></span><span class="line"><span class="cl">use sys<span class="p">;</span> <span class="c1">#切换至sys这个数据库</span>
</span></span><span class="line"><span class="cl">use test<span class="p">;</span> <span class="c1">#切换至test这个数据库</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">show tables<span class="p">;</span> <span class="c1">#查看该数据库下所有的表名</span>
</span></span><span class="line"><span class="cl">desc user<span class="p">;</span> <span class="c1">#查看该数据库下user表的表结构</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql命令行出错退出此次命令">MySQL命令行出错退出此次命令</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Ctrl + C 即可退出。
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql修改某个字段字符集">MySQL修改某个字段字符集</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">alter table person modify name varchar<span class="o">(</span>50<span class="o">)</span> character <span class="nb">set</span> gbk<span class="p">;</span> <span class="c1">#修改person表中name字段字符集</span>
</span></span><span class="line"><span class="cl">alter table person modify introduce text character <span class="nb">set</span> gbk<span class="p">;</span><span class="c1">#修改person表中introduce字段字符集</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql查看数据库编码">MySQL查看数据库编码</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">show variables like <span class="s1">&#39;%char%&#39;</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql中文显示乱码">MySQL中文显示乱码</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.先进入交互模式
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it efc8b29eebb5 bash
</span></span><span class="line"><span class="cl">2.进入mysqld.cnf文件添加字符集
</span></span><span class="line"><span class="cl">vim etc/mysql/mysql.conf.d/mysqld.cnf
</span></span><span class="line"><span class="cl"><span class="c1">#提示 bash: vi: command not found 是因为容器中没有安装vim</span>
</span></span><span class="line"><span class="cl"><span class="c1">#安装vim：apt-get update</span>
</span></span><span class="line"><span class="cl"><span class="c1">#        apt-get install vim</span>
</span></span><span class="line"><span class="cl">添加中文字符集
</span></span><span class="line"><span class="cl">character-set-server<span class="o">=</span>utf8
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="查看mysql端口号">查看MySQL端口号</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">show global variables like <span class="s1">&#39;port&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">+---------------+-------+
</span></span><span class="line"><span class="cl"><span class="p">|</span> Variable_name <span class="p">|</span> Value <span class="p">|</span>
</span></span><span class="line"><span class="cl">+---------------+-------+
</span></span><span class="line"><span class="cl"><span class="p">|</span> port          <span class="p">|</span> <span class="m">3306</span>  <span class="p">|</span>
</span></span><span class="line"><span class="cl">+---------------+-------+
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="navicat连接linux下的mysql报错">Navicat连接Linux下的MySQL报错</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 报错：Host XXX is not allowed to connect to this MySQL server。</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 由于MySQL配置了不支持远程连接引起的。</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 选择mysql库</span>
</span></span><span class="line"><span class="cl">use mysql<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 查询root用户对应的主机host</span>
</span></span><span class="line"><span class="cl"><span class="k">select</span> host,user from user where <span class="nv">user</span> <span class="o">=</span> <span class="s1">&#39;root&#39;</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl"><span class="c1"># 更新user表中root用户的host为 &#39;%&#39;：允许远程访问</span>
</span></span><span class="line"><span class="cl">update user <span class="nb">set</span> <span class="nv">host</span> <span class="o">=</span> <span class="s1">&#39;%&#39;</span> where <span class="nv">user</span> <span class="o">=</span> <span class="s1">&#39;root&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 刷新MySQL系统权限相关表</span>
</span></span><span class="line"><span class="cl">flush privileges<span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux中的mysql命令模式清屏">Linux中的MySQL命令模式清屏</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 清屏</span>
</span></span><span class="line"><span class="cl">system clear
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">类似地：
</span></span><span class="line"><span class="cl"><span class="c1"># 显示当前目录</span>
</span></span><span class="line"><span class="cl">system <span class="nb">pwd</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux下mysql表名区分大小写怎么解决">Linux下MySQL表名区分大小写怎么解决</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 在linux中mysql是区分大小写的，在Windows中mysql是不区分大小写的。</span>
</span></span><span class="line"><span class="cl">1. vi /etc/my.cnf 
</span></span><span class="line"><span class="cl">2. 添加 <span class="nv">lower_case_table_names</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl">3.重启mysql即可
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># lower_case_table_names = 0</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 其中0：区分大小写，1：不区分大小写</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql查看某张表的索引">MySQL查看某张表的索引</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">show index from table<span class="o">(</span>表名<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Table：表名</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Non_unique：如果索引不能包括重复词，则为0。如果可以，则为1</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Key_name：索引名</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Seq_in_index：索引中的列序列号，从1开始</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Column_name： 列名</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Index_type：用过的索引方法(BTREE, FULLTEXT, HASH, RTREE)</span>
</span></span><span class="line"><span class="cl">mysql&gt; show index from zhiwei<span class="p">;</span>
</span></span><span class="line"><span class="cl">+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
</span></span><span class="line"><span class="cl"><span class="p">|</span> Table  <span class="p">|</span> Non_unique <span class="p">|</span> Key_name <span class="p">|</span> Seq_in_index <span class="p">|</span> Column_name <span class="p">|</span> Collation <span class="p">|</span> Cardinality <span class="p">|</span> Sub_part <span class="p">|</span> Packed <span class="p">|</span> Null <span class="p">|</span> Index_type <span class="p">|</span> Comment <span class="p">|</span> Index_comment <span class="p">|</span>
</span></span><span class="line"><span class="cl">+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
</span></span><span class="line"><span class="cl"><span class="p">|</span> zhiwei <span class="p">|</span>          <span class="m">0</span> <span class="p">|</span> PRIMARY  <span class="p">|</span>            <span class="m">1</span> <span class="p">|</span> zhiwei_id   <span class="p">|</span> A         <span class="p">|</span>          <span class="m">39</span> <span class="p">|</span>     NULL <span class="p">|</span> NULL   <span class="p">|</span>      <span class="p">|</span> BTREE      <span class="p">|</span>         <span class="p">|</span>               <span class="p">|</span>
</span></span><span class="line"><span class="cl">+--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
</span></span><span class="line"><span class="cl"><span class="m">1</span> row in <span class="nb">set</span> <span class="o">(</span>0.00 sec<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql没有root用户">MySQL没有root用户</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 创建root用户</span>
</span></span><span class="line"><span class="cl">create user <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span> identified by <span class="s1">&#39;（填写自己的密码）&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 报错</span>
</span></span><span class="line"><span class="cl">ERROR <span class="m">1290</span> <span class="o">(</span>HY000<span class="o">)</span>: The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement
</span></span><span class="line"><span class="cl">执行 flush privileges<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 再次创建root用户</span>
</span></span><span class="line"><span class="cl">create user <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span> identified by <span class="s1">&#39;（填写自己的密码）&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 再次报错</span>
</span></span><span class="line"><span class="cl">ERROR <span class="m">1396</span> <span class="o">(</span>HY000<span class="o">)</span>: Operation CREATE USER failed <span class="k">for</span> <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span>
</span></span><span class="line"><span class="cl">执行 drop user <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 再再次创建root用户</span>
</span></span><span class="line"><span class="cl">create user <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span> identified by <span class="s1">&#39;（填写自己的密码）&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">OK
</span></span><span class="line"><span class="cl"><span class="c1"># 赋予所有库所有表操作权限</span>
</span></span><span class="line"><span class="cl">GRANT ALL PRIVILEGES ON *.* TO <span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span> WITH GRANT OPTION<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 刷新权限</span>
</span></span><span class="line"><span class="cl">flush privileges<span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux下对mysql数据库备份并设置定时">Linux下对MySQL数据库备份并设置定时</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 查看本机上是否已经安装了crontabs</span>
</span></span><span class="line"><span class="cl">service crond status
</span></span><span class="line"><span class="cl"><span class="c1"># 没安装的话需要手动安装</span>
</span></span><span class="line"><span class="cl">yum install vixie-cron crontabs 
</span></span><span class="line"><span class="cl">yum install crontabs
</span></span><span class="line"><span class="cl">service crond start <span class="c1"># 启动crontabs</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 编写脚本，例： backup_disclosure.sh </span>
</span></span><span class="line"><span class="cl">------------------------------backup_disclosure.sh -----------------------------------------------
</span></span><span class="line"><span class="cl"><span class="c1">#!/bin/bash</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 特殊字符用\进行转义</span>
</span></span><span class="line"><span class="cl">mysqldump -uroot -pSolution<span class="se">\!</span>密码 disclosure &gt; /ths/ths_backup/disclosure_<span class="k">$(</span>date +%Y%m%d_%H%M<span class="k">)</span>.sql
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 给新生成的sql文件授权</span>
</span></span><span class="line"><span class="cl">chmod <span class="m">777</span> /ths/ths_backup/disclosure_<span class="k">$(</span>date +%Y%m%d_%H%M<span class="k">)</span>.sql
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除/ths/ths_backup目录下前30天的以disclosure开头.sql结尾的文件</span>
</span></span><span class="line"><span class="cl">find /ths/ths_backup/ -type f -mtime +30 -name disclosure<span class="se">\*</span>.sql -exec rm <span class="o">{}</span> <span class="se">\;</span>
</span></span><span class="line"><span class="cl">------------------------------backup_disclosure.sh -----------------------------------------------
</span></span><span class="line"><span class="cl"><span class="c1"># 添加/修改定时任务</span>
</span></span><span class="line"><span class="cl">crontab -e
</span></span><span class="line"><span class="cl">*/1 * * * * sh /ths/timing/backup_disclosure.sh <span class="c1"># 每一分钟执行/ths/timing/backup_disclosure.sh这个脚本</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 重启crond使改动生效</span>
</span></span><span class="line"><span class="cl">service crond restart
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查询定时任务</span>
</span></span><span class="line"><span class="cl">crontab -l
</span></span><span class="line"><span class="cl">*/1 * * * * sh /ths/timing/backup_disclosure.sh <span class="c1"># 每一分钟执行/ths/timing/backup_disclosure.sh这个脚本</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># crontab的粒度最小是到分钟</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat /etc/corntab
</span></span><span class="line"><span class="cl"><span class="c1"># Example of job definition:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># .---------------- minute (0 - 59)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># |  .------------- hour (0 - 23)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># |  |  .---------- day of month (1 - 31)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span>
</span></span><span class="line"><span class="cl"><span class="c1"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span>
</span></span><span class="line"><span class="cl"><span class="c1"># |  |  |  |  |</span>
</span></span><span class="line"><span class="cl"><span class="c1"># *  *  *  *  * user-name  command to be executed</span>
</span></span><span class="line"><span class="cl">*/1 * * * * mysql /ths/timing/bkdisclosure.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 日期格式精确到秒</span>
</span></span><span class="line"><span class="cl"><span class="k">$(</span>date +%Y%m%d_%H%M%S<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除/ths/ths_backup目录下前30天的以disclosure开头.sql结尾的文件</span>
</span></span><span class="line"><span class="cl">find /ths/ths_backup/ -type f -mtime +30 -name disclosure<span class="se">\*</span>.sql -exec rm <span class="o">{}</span> <span class="se">\;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">-------------------------------切换用户备份------------------------------------------------
</span></span><span class="line"><span class="cl"><span class="c1"># 切换用户备份</span>
</span></span><span class="line"><span class="cl"><span class="c1">#!/bin/bash</span>
</span></span><span class="line"><span class="cl"><span class="c1">#切换mysql用户</span>
</span></span><span class="line"><span class="cl">su - mysql <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s"># 特殊字符用\进行转义
</span></span></span><span class="line"><span class="cl"><span class="s">mysqldump -uroot -psolution\!密码 disclosure &gt; /data/ths/ths_backup/disclosure_$(date +%Y%m%d_%H%M).sql
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s"># 给新生成的sql文件授权
</span></span></span><span class="line"><span class="cl"><span class="s">chmod 777 /data/ths/ths_backup/disclosure_$(date +%Y%m%d_%H%M).sql
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s"># 删除/ths/ths_backup目录下前30天的以jdp_开头.sql结尾的文件
</span></span></span><span class="line"><span class="cl"><span class="s">find /data/ths/ths_backup/ -type f -mtime +30 -name disclosure_\*.sql -exec rm {} \;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">-------------------------------切换用户备份------------------------------------------------
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="windows使用vscode实现remote-ssh免密登录">Windows使用vscode实现remote ssh免密登录</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">1.进入windos下的.ssh目录（用git bash操作）
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> C:<span class="se">\U</span>sers<span class="se">\y</span>angcheng<span class="se">\.</span>ssh
</span></span><span class="line"><span class="cl">ssh-keygen
</span></span><span class="line"><span class="cl">id_rsa_remote <span class="c1"># 这个是生成私钥的名称，自己定义。不写的话默认id_rsa</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 生成完私钥后还会生成一个公钥，公钥名为id_rsa_remote.pub</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2.打开C:<span class="se">\U</span>sers<span class="se">\y</span>angcheng<span class="se">\.</span>ssh中的config文件，添加如下内容
</span></span><span class="line"><span class="cl">Host 8.140.1.39
</span></span><span class="line"><span class="cl">  HostName 8.140.1.39
</span></span><span class="line"><span class="cl">  User root
</span></span><span class="line"><span class="cl">PreferredAuthentications publickey
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 本地文件，注意这个地方是放私钥的路径</span>
</span></span><span class="line"><span class="cl">IdentityFile C:<span class="se">\U</span>sers<span class="se">\y</span>angcheng<span class="se">\.</span>ssh<span class="se">\i</span>d_rsa_remote
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3.将公钥拷贝到服务器上（也就是id_rsa_remote.pub文件）
</span></span><span class="line"><span class="cl">4.在服务器上也使用 ssh-keygen 命令，进入/root/.ssh目录
</span></span><span class="line"><span class="cl">5. mv /root/id_rsa_remote.pub /root/.ssh/
</span></span><span class="line"><span class="cl">6.cat ~/.ssh/id_rsa_remote.pub &gt;&gt; ~/.ssh/authorized_keys
</span></span><span class="line"><span class="cl"><span class="c1"># 需要注意的是：.ssh/目录的权限需要为700！authorized_keys设置为600</span>
</span></span><span class="line"><span class="cl">chmod <span class="m">700</span> /root/.ssh
</span></span><span class="line"><span class="cl">chmod <span class="m">600</span> /root/.ssh/authorized_keys
</span></span><span class="line"><span class="cl"><span class="c1"># 如果发现修改不了权限,lsattr查询</span>
</span></span><span class="line"><span class="cl">chattr -ia /root/.ssh/authorized_keys
</span></span><span class="line"><span class="cl">7.重启ssh服务
</span></span><span class="line"><span class="cl">systemctl restart sshd
</span></span><span class="line"><span class="cl">8.vscode就可以免密登录这台服务器
</span></span><span class="line"><span class="cl"><span class="c1"># ll -a 可以显示隐藏文件（例如：.ssh文件）</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">chengtry</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2023-04-01 00:33:02
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/linux/">Linux</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/springcloud/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">SpringCloud</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/docker/">
            <span class="next-text nav-default">Docker</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:412307724@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/chengtry" class="iconfont icon-github" title="github"></a>
  <a href="https://chengtry.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2023<span class="heart"><i class="iconfont icon-heart"></i></span><span>chengtry</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>








</body>
</html>
